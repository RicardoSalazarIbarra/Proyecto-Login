(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"7nqV":function(o,i,r){"use strict";r.d(i,"a",function(){return m});var n=r("3Pt+"),t=r("fXoL"),e=r("tyNb"),s=r("NHiY"),a=r("ofXK");function b(o,i){1&o&&(t.Mb(0,"span"),t.jc(1," \xa1ERROR!, Elija un campo. "),t.Lb())}function c(o,i){1&o&&(t.Mb(0,"span"),t.jc(1," This field is required. "),t.Lb())}function l(o,i){1&o&&(t.Mb(0,"span"),t.jc(1," This field is required. "),t.Lb())}function d(o,i){1&o&&(t.Mb(0,"span"),t.jc(1," This field is required. "),t.Lb())}function u(o,i){1&o&&(t.Mb(0,"span"),t.jc(1," This field is required. "),t.Lb())}function v(o,i){1&o&&(t.Mb(0,"span"),t.jc(1," This field is required. "),t.Lb())}let m=(()=>{class o{constructor(o,i,r){var n,t;this.router=o,this.fb=i,this.vinossSvc=r;const e=this.router.getCurrentNavigation();this.vinos=null===(t=null===(n=null==e?void 0:e.extras)||void 0===n?void 0:n.state)||void 0===t?void 0:t.value,this.initForm()}ngOnInit(){void 0===this.vinos?this.router.navigate(["agregar"]):this.vinosForm.patchValue(this.vinos)}onGuardar(){var o;if(console.log("Saved",this.vinosForm.value),this.vinosForm.valid){const i=(null===(o=this.vinos)||void 0===o?void 0:o.id)||null;this.vinossSvc.onGuardarVinos(this.vinosForm.value,i),this.vinosForm.reset()}}onGoRegresarLista(){this.router.navigate(["lista"])}isValidField(o){const i=this.vinosForm.get(o);return!i.valid&&i.touched?"is-invalid":i.touched?"is-valid":""}initForm(){this.vinosForm=this.fb.group({clasificacion:["",[n.l.required]],tipo:["",[n.l.required]],nombre:["",[n.l.required]],cosecha:["",[n.l.required]],sabor:["",[n.l.required]],aroma:["",[n.l.required]]})}}return o.\u0275fac=function(i){return new(i||o)(t.Jb(e.a),t.Jb(n.b),t.Jb(s.a))},o.\u0275cmp=t.Db({type:o,selectors:[["app-vinos-form"]],decls:59,vars:19,consts:[[1,"card-body","card","border-dark","mt-3","mx-auto","col-md-7","offset-md-3",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6"],["for","sinopsis"],["type","text","id","clasificacion","rows","3","formControlName","clasificacion",1,"form-control"],["value",""],[1,"invalid-feedback"],[4,"ngIf"],["type","text","formControlName","tipo",1,"form-control"],["type","text","formControlName","nombre",1,"form-control"],["type","text","placeholder","3, 6 Meses +","formControlName","cosecha",1,"form-control"],["type","text","formControlName","sabor",1,"form-control"],["type","text","formControlName","aroma",1,"form-control"],["type","submit",1,"btn","bg-dark","btn-lg","btn-block","text-light","m-1"],["type","button",1,"btn","bg-dark","btn-lg","btn-block","text-light","m-1",3,"click"]],template:function(o,i){1&o&&(t.Mb(0,"form",0),t.Tb("ngSubmit",function(){return i.onGuardar()}),t.Mb(1,"div",1),t.Mb(2,"div",2),t.Mb(3,"label",3),t.Mb(4,"h2"),t.jc(5,"Clasificaci\xf3n"),t.Lb(),t.Lb(),t.Mb(6,"select",4),t.Mb(7,"option",5),t.jc(8," --Clasificaci\xf3n-- "),t.Lb(),t.Mb(9,"option"),t.jc(10,"Blanco"),t.Lb(),t.Mb(11,"option"),t.jc(12,"Rosado"),t.Lb(),t.Mb(13,"option"),t.jc(14,"Tinto"),t.Lb(),t.Mb(15,"option"),t.jc(16,"Clarete"),t.Lb(),t.Lb(),t.Mb(17,"div",6),t.hc(18,b,2,0,"span",7),t.Lb(),t.Lb(),t.Mb(19,"div",2),t.Mb(20,"label",3),t.Mb(21,"h2"),t.jc(22,"Tipo"),t.Lb(),t.Lb(),t.Kb(23,"input",8),t.Mb(24,"div",6),t.hc(25,c,2,0,"span",7),t.Lb(),t.Lb(),t.Lb(),t.Mb(26,"div",1),t.Mb(27,"div",2),t.Mb(28,"label",3),t.Mb(29,"h2"),t.jc(30,"Nombre"),t.Lb(),t.Lb(),t.Kb(31,"input",9),t.Mb(32,"div",6),t.hc(33,l,2,0,"span",7),t.Lb(),t.Lb(),t.Mb(34,"div",2),t.Mb(35,"label",3),t.Mb(36,"h2"),t.jc(37,"Cosecha"),t.Lb(),t.Lb(),t.Kb(38,"input",10),t.Mb(39,"div",6),t.hc(40,d,2,0,"span",7),t.Lb(),t.Lb(),t.Mb(41,"div",2),t.Mb(42,"label",3),t.Mb(43,"h2"),t.jc(44,"Sabor"),t.Lb(),t.Lb(),t.Kb(45,"input",11),t.Mb(46,"div",6),t.hc(47,u,2,0,"span",7),t.Lb(),t.Lb(),t.Mb(48,"div",2),t.Mb(49,"label",3),t.Mb(50,"h2"),t.jc(51,"Aroma"),t.Lb(),t.Lb(),t.Kb(52,"input",12),t.Mb(53,"div",6),t.hc(54,v,2,0,"span",7),t.Lb(),t.Lb(),t.Lb(),t.Mb(55,"button",13),t.jc(56,"Guardar"),t.Lb(),t.Mb(57,"button",14),t.Tb("click",function(){return i.onGoRegresarLista()}),t.jc(58,"Regresar"),t.Lb(),t.Lb()),2&o&&(t.ac("formGroup",i.vinosForm),t.yb(6),t.Ab(i.isValidField("clasificacion")),t.yb(12),t.ac("ngIf",null==i.vinosForm.get("clasificacion").errors?null:i.vinosForm.get("clasificacion").errors.required),t.yb(5),t.Ab(i.isValidField("tipo")),t.yb(2),t.ac("ngIf",null==i.vinosForm.get("tipo").errors?null:i.vinosForm.get("tipo").errors.required),t.yb(6),t.Ab(i.isValidField("nombre")),t.yb(2),t.ac("ngIf",null==i.vinosForm.get("nombre").errors?null:i.vinosForm.get("nombre").errors.required),t.yb(5),t.Ab(i.isValidField("cosecha")),t.yb(2),t.ac("ngIf",null==i.vinosForm.get("cosecha").errors?null:i.vinosForm.get("cosecha").errors.required),t.yb(5),t.Ab(i.isValidField("sabor")),t.yb(2),t.ac("ngIf",null==i.vinosForm.get("sabor").errors?null:i.vinosForm.get("sabor").errors.required),t.yb(5),t.Ab(i.isValidField("aroma")),t.yb(2),t.ac("ngIf",null==i.vinosForm.get("aroma").errors?null:i.vinosForm.get("aroma").errors.required))},directives:[n.n,n.h,n.f,n.k,n.g,n.d,n.i,n.m,a.j,n.a],styles:[""]}),o})()},NHiY:function(o,i,r){"use strict";r.d(i,"a",function(){return a});var n=r("mrSG"),t=r("lJxs"),e=r("fXoL"),s=r("I/3d");let a=(()=>{class o{constructor(o){this.afs=o,this.vinosCollection=o.collection("vinos"),this.getVinos()}onEliminarVinos(o){return new Promise((i,r)=>Object(n.a)(this,void 0,void 0,function*(){try{const r=yield this.vinosCollection.doc(o).delete();i(r)}catch(n){r(n.message)}}))}onGuardarVinos(o,i){return new Promise((r,t)=>Object(n.a)(this,void 0,void 0,function*(){try{const n=i||this.afs.createId(),t=Object.assign({id:n},o),e=yield this.vinosCollection.doc(n).set(t);r(e)}catch(n){t(n.message)}}))}getVinos(){this.vinos=this.vinosCollection.snapshotChanges().pipe(Object(t.a)(o=>o.map(o=>o.payload.doc.data())))}}return o.\u0275fac=function(i){return new(i||o)(e.Qb(s.a))},o.\u0275prov=e.Fb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);